#summary This page explains how to build the application.
#labels Featured,Phase-Implementation

= Introduction =
The application has two distinct parts : 
 * The pjsip dynamic library part that produce a .so (to be more precise a .so by android target).
 * The java application that produce a .apk (and can be installed on your android device).

Due to the fact the dynamic library has to be recompiled for each android target (the ndk doesn't support audio library yet), by default the application apk will download the .so from the csipsimple website.
Although, if you want to make your own builds, there is a simple way to use your own .so builds. (See the *Build the android application* section for more details).

*Important : * If you are a java developer and you are not interested in building the sip stack, you can directly go to the *Build the android application* section.

<wiki:toc max_depth="1" />

= System and Software Requirements =
I assume that you have a linux system with svn and all android ndk requirements.


Create a new directory for the project.

= Build the pjsip library for android =

I have not committed into the svn the compiler, linker etc for android. So you'll have to get them from the official ndk and then to include them into the project.

 * First of all get the ndk and unzip
{{{
wget http://dl.google.com/android/ndk/android-ndk-r4-linux-x86.zip
unzip android-ndk-r4-linux-x86.zip
rm android-ndk-r4-linux-x86.zip
}}}

 * Then checkout the pjsip part of the project :
{{{
svn checkout http://csipsimple.googlecode.com/svn/trunk/pjsip_android pjsip_android
}}}

 * Now we have to add the ndk toolchains into the pjsip_android project ndk.
{{{
cp -r android-ndk-r4/build/prebuilt pjsip_android/build/
}}}
_ Note : You can now delete the android-ndk-r4 folder _


 * Go into the pjsip_android directory:
{{{
cd pjsip_android
}}}

 * And now you have two options.
   * Launch a make (but it will generate only one target lib)
{{{
make APP=pjsip
}}}
*OR*
   * Launch a shell script I wrote that will automatically make all targets for you.
{{{
./build_release.sh
}}}

Congratulation you've just build the dynamic library.
You can find your build under 